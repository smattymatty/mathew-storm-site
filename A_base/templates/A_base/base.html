{% load static spellbook_tags %}

<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="{% static 'A_base/main.mjs' %}" type="module"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Mathew Storm</title>
    {% spellbook_styles %}
    <link rel="stylesheet" type="text/css" href="{% static 'A_base/style.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'questions/quiz.css' %}" />
    <!-- google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Newsreader:ital,opsz,wght@0,6..72,200..800;1,6..72,200..800&display=swap"
      rel="stylesheet"
    />
    <!-- HTMX -->
     <script src="{% static 'A_base/htmx.min.js' %}"></script>
  </head>

  <body>
    {% include 'A_base/partials/navbar.html' %}
    
    {% if not metadata %}
      {% include 'A_base/partials/hero.html' %}
    {% endif %}

    <main class="sb-container sb-mx-auto sb-px-4 sb-pb-4" data-storm="fade-in">

      <div class="sb-grid sb-grid-cols-1 sb-lg:grid-cols-3 sb-gap-8">
        
        {# Main Content Area #}
        <section id="home-content" class="sb-lg:col-span-2" data-storm="slide-up" data-storm-delay="200">
          {% if metadata %}
            {# Page with metadata - show title and metadata #}
            <div class="sb-card sb-shadow-lg sb-p-6 sb-mb-6" data-storm="fade-in" data-storm-delay="300">
              <h1 class="sb-text-4xl sb-font-bold sb-text-primary sb-mb-4">
                {% if metadata.title %}
                  {{ metadata.title|title }}
                {% elif metadata.namespace %}
                  {{ metadata.namespace|title }}
                {% endif %}
              </h1>
              {% include 'A_base/partials/examples/sidebar_content.html' %}
            </div>
          {% endif %}
          
          <div class="sb-card sb-shadow-lg sb-p-6 sb-bg-surface" data-storm="fade-in" data-storm-delay="400">
            {% block content %}
            {{ content|safe }}
            {% endblock %}
          </div>
        </section>
        
        {# Sidebar #}
        <aside class="sb-lg:col-span-1" data-storm="slide-left" data-storm-delay="300">
          {% if toc %}
            <div class="sb-card sb-shadow-md sb-p-4 sb-mb-6 sb-sticky sb-top-4" data-storm="fade-in" data-storm-delay="500">
              <h3 class="sb-text-xl sb-font-bold sb-text-secondary sb-mb-4">Table of Contents</h3>
              {% sidebar_toc %}
            </div>
          {% endif %}
          
          {# Quick Links Card #}
          <div class="sb-card sb-shadow-md sb-p-4 sb-mb-6" data-storm="fade-in" data-storm-delay="600">
            <h3 class="sb-text-xl sb-font-bold sb-text-accent sb-mb-4">Quick Links</h3>
            <ul class="sb-space-y-2">
              <li><a href="{% url 'projects:intro' %}" class="sb-text-primary sb-hover:text-secondary" data-storm-hover="scale">ğŸ“ Projects</a></li>
              <li><a href="{% url 'tutorials:intro' %}" class="sb-text-primary sb-hover:text-secondary" data-storm-hover="scale">ğŸ“š Tutorials</a></li>
              <li><a href="{% url 'blog:intro' %}" class="sb-text-primary sb-hover:text-secondary" data-storm-hover="scale">âœï¸ Blog</a></li>
              <li><a href="{% url 'notes:intro' %}" class="sb-text-primary sb-hover:text-secondary" data-storm-hover="scale">ğŸ“ Notes</a></li>
            </ul>
          </div>
          
          {# Current Status Card #}
          <div class="sb-card sb-shadow-md sb-p-4 sb-bg-accent-25" data-storm="fade-in" data-storm-delay="700">
            <h3 class="sb-text-xl sb-font-bold sb-text-emphasis sb-mb-4">Currently</h3>
            <ul class="sb-space-y-2 sb-text-sm">
              <li class="sb-flex sb-items-center sb-gap-2">
                <span class="sb-text-success">ğŸ”¨</span>
                <span>Building Django Spellbook</span>
              </li>
              <li class="sb-flex sb-items-center sb-gap-2">
                <span class="sb-text-info">ğŸ“–</span>
                <span>Learning C at Seneca</span>
              </li>
              <li class="sb-flex sb-items-center sb-gap-2">
                <span class="sb-text-warning">â˜•</span>
                <span>Drinking coffee</span>
              </li>
            </ul>
          </div>
        </aside>
        
      </div>

    </main>

    {% include 'A_base/partials/footer.html' %}
    
    <!-- Storm System Animation Library -->
    <script type="module">
        import StormAnimations from '{% static "A_base/storm/storm-animations.mjs" %}';
        import StormEvents from '{% static "A_base/storm/storm-events.mjs" %}';
        // Auto-initializes - no configuration needed
    </script>

  </body>
</html>
